(sdegeo:set-auto-region-naming OFF)
(bound? (quote P1))
(sdegeo:create-rectangle (position 0 0 0) (position 0.6 0.6 0) "Silicon" "P1")
(bound? (quote N2))
(sdegeo:create-rectangle (position 0.6 0 0) (position 0.9 0.6 0) "Silicon" "N2")
(bound? (quote P2))
(sdegeo:create-rectangle (position 0.9 0 0) (position 1.5 0.6 0) "Silicon" "P2")
(bound? (quote N1))
(sdegeo:create-rectangle (position 0 0 0) (position 0.3 0.2 0) "Silicon" "N1")
(bound? (quote N3))
(sdegeo:create-rectangle (position 1.2 0.4 0) (position 1.5 0.6 0) "Silicon" "N3")
(sdegeo:define-contact-set "anode" 4 (color:rgb 1 0 0) "##")
(sdegeo:define-contact-set "cathode" 4 (color:rgb 1 0 0) "##")
(sdegeo:set-current-contact-set "anode")
(sdegeo:set-contact (list (car (find-edge-id (position 0 0.4 0))) (car (find-edge-id (position 0 0.1 0)))) "anode")
(sdegeo:set-current-contact-set "cathode")
(sdegeo:set-contact (list (car (find-edge-id (position 1.5 0.5 0))) (car (find-edge-id (position 1.5 0.2 0)))) "cathode")
(sdedr:define-constant-profile "ConstantProfileDefinition.p1" "BoronActiveConcentration" @P1@)
(sdedr:define-constant-profile-region "ConstantProfilePlacement.p1" "ConstantProfileDefinition.p1" "P1")
(sdedr:define-constant-profile "ConstantProfileDefinition.n2" "ArsenicActiveConcentration" @N2@)
(sdedr:define-constant-profile-region "ConstantProfilePlacement.n2" "ConstantProfileDefinition.n2" "N2")
(sdedr:define-constant-profile "ConstantProfileDefinition.p2" "BoronActiveConcentration" @P2@)
(sdedr:define-constant-profile-region "ConstantProfilePlacement.p2" "ConstantProfileDefinition.p2" "P2")
(sdedr:define-constant-profile "ConstantProfileDefinition.n1" "ArsenicActiveConcentration" @N1@)
(sdedr:define-constant-profile-region "ConstantProfilePlacement.n1" "ConstantProfileDefinition.n1" "N1")
(sdedr:define-constant-profile "ConstantProfileDefinition.n3" "ArsenicActiveConcentration" @N3@)
(sdedr:define-constant-profile-region "ConstantProfilePlacement.n3" "ConstantProfileDefinition.n3" "N3")
(bound? (quote RefEvalWin.all))
(sdedr:define-refeval-window "RefEvalWin.all" "Rectangle" (position 0 0 0) (position 1.5 0.6 0))
(sdedr:define-refinement-size "RefinementDefinition.all" 0.02 0.02 0.002 0.002)
(sdedr:define-refinement-placement "RefinementPlacement.all" "RefinementDefinition.all" (list "window" "RefEvalWin.all"))
(bound? (quote RefEvalWin.dep1))
(sdedr:define-refeval-window "RefEvalWin.dep1" "Rectangle" (position 0.55 0 0) (position 0.65 0.6 0))
(sdedr:define-multibox-size "MultiboxDefinition.dep1" 0.01 0.01 0.001 0.001 1 1)
(sdedr:define-multibox-placement "MultiboxPlacement.dep1" "MultiboxDefinition.dep1" "RefEvalWin.dep1")
(bound? (quote RefEvalWin.dep2))
(sdedr:define-refeval-window "RefEvalWin.dep2" "Rectangle" (position 0.85 0 0) (position 0.95 0.6 0))
(sdedr:define-multibox-size "MultiboxDefinition.dep2" 0.01 0.01 0.001 0.001 1 1)
(sdedr:define-multibox-placement "MultiboxPlacement.dep2" "MultiboxDefinition.dep2" "RefEvalWin.dep2")

(sde:set-meshing-command "snmesh -a")
(sdedr:append-cmd-file"")
(sde:build-mesh "-a" "n@node@")
(system:command "svisual sdemodel_msh.tdr &")
(sde:save-model "n@node@")
